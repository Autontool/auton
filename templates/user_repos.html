{% extends "base2.html"%}
{%block body%}
<table class="table">
      <tbody>
    {%for r in repos%}
    <tr>
        <td><a href="/repo?repo={{r.url}}">{{r.url}}</a></td>
        <td>{{r.state}}</td>
        <td>{{r.notes}}</td>
        <td>
            <div class="progress-bar progress-bar-info" role="progressbar"
                 aria-valuenow="{{r.progress|floatformat:1}}" aria-valuemin="0"
                 aria-valuemax="100"
                 style="width: {{r.progress}}%">
                {{r.progress|floatformat:1}}%
            </div>
        </td>
        <td>
            <a href="http://www.github.com/{{r.url}}" target="_blank"
                                       title="Go to repo in GitHub">
                                        <img src="https://raw.githubusercontent.com/OnToology/OnToology/master/media/icons/GitHub-Mark-32px.png"
                                             class="img-circle" height="25px"></a>
        </td>
        <td>
            <span class="generateall-btn handpointer" repo="{{r.url}}"
                                                  title="Generate documentation, diagrams and evaluation">
                                                <img src="https://raw.githubusercontent.com/OnToology/OnToology/master/media/icons/regenerate_all.png"
                                                     height="20px">
                                            </span>
        </td>
    </tr>
      </tbody>
    {%endfor%}
</table>

<script>
        $(document).on('click', '.generateall-btn', function(){
        alert($(this).attr('repo'));
        $.get("generateforall", {"repo": $(this).attr('repo')});
    });

</script>

{% endblock %}
