{% extends "base.html"%}
{%block body%}

<input type="checkbox" name="my-checkbox" checked>

<script>
function GetURLParameter(sParam)
{
    var sPageURL = window.location.search.substring(1);
    var sURLVariables = sPageURL.split('&');
    for (var i = 0; i < sURLVariables.length; i++)
    {
        var sParameterName = sURLVariables[i].split('=');
        if (sParameterName[0] == sParam)
        {
            return sParameterName[1];
        }
    }
    return '';
}

$( document ).ready(function() {
	$("[name='my-checkbox']").bootstrapSwitch();
	$('input[name="my-checkbox"]').on('switchChange.bootstrapSwitch', function(event, state) {
		  console.log(this); // DOM element
		  console.log(event); // jQuery event
		  console.log(state); // true | false
		  
		});
	
	$("tr").click(function() {
		 window.location.href = "?repo="+$(this).attr('url');
	});
	
	$('.repo').each(function(){
		var r = GetURLParameter('repo');
		//alert("<"+r+">");
		if (r==$(this).attr('url')){
			$(this).addClass("highl");
		}
		else{
			$(this).removeClass("highl");			
		}
	});

	
});
</script>

<table class="table table-hover">
<tr class="highl tableheader">
	<td>Repository</td>
	<td>Status</td>
	<td>Last used</td>
	<td>ar2dtool</td>
	<td>OOPS</td>
	<td >Widoco</td>
</tr>
{%for r in repos%}
	<tr class="repo" url="{{r.url}}">
		<td><a href="http://github.com/{{r.url}}">{{r.url}}</a></td>
		<td>{{r.state}}</td>
		<td>{{r.last_used}}</td>
		<td>{{r.ar2dtool_enable}}</td>
		<td>{{r.oops_enable}}</td>
		<td>{{r.widoco_enable}}</td>
	<tr>
{%endfor%}
</table>
{% endblock %}

